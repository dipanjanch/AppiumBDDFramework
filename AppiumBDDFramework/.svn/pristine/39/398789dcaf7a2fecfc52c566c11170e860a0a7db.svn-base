package page.actions;

import org.testng.Assert;
import org.openqa.selenium.WebDriver;

import page.locators.locatorsIOS;
import utility.GenericMethods;
import utility.TestContext;

public class loginPage extends GenericMethods{

	
	public void loginToSFDCapp(String user) throws InterruptedException {

		Thread.sleep(2000);
		if(isElementPresent(locatorsIOS.UserProfilePhoto))
		{
			click(locatorsIOS.UserProfilePhoto);
			click(locatorsIOS.LogoutOption);
			if(isElementPresent(locatorsIOS.LogoutPopUp))
				click(locatorsIOS.LogoutPopUp);
		}
		Thread.sleep(2000);
		waitForElement(locatorsIOS.SettingIcon);
		click(locatorsIOS.SettingIcon);
		click(locatorsIOS.SandboxOption);
		click(locatorsIOS.UserNameTextBox);
		sendText(locatorsIOS.UserNameTextBox, TestContext.getDataFromDatalist("TMUser", "username"));
		click(locatorsIOS.PasswordTextBox);
		sendText(locatorsIOS.PasswordTextBox, TestContext.getDataFromDatalist("TMUser", "password"));
		click(locatorsIOS.LoginButton);
		Thread.sleep(10000);
		getContext();
		if(waitForElement((locatorsIOS.AllowAccess)))
			click(locatorsIOS.Allow);
		if(waitForElement((locatorsIOS.UserProfilePhoto)))
			Assert.assertTrue(true, "Login Sucessfull");
		else 
			Assert.assertFalse(true, "Login Unsucessfull");
		
		
		
	}



}
